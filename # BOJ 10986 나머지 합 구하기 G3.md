# BOJ 10986 나머지 합 구하기 G3

## 문제

구간 합 문제. 여러 구간 합 중 m으로 나눠 떨어지는 구간의 개수를 구하라.

## 시간복잡도

N<=10^6, M<=10^3.

naive하게 N^2 접근 시 사망한다.

구간 합 사용 시 O(N+M)으로 처리된다.

## 풀이

일단 구간 합을 만드는데 이때 long long 을 잘 생각해야 한다. 각각의 수는 10^9이기 때문이다. 그냥 마음 편하게 전부 long long을 쓰자.

구간합을 만들때 그냥 정수론으로 %m 을 갖다 박자.

구간합은 psum[i]-psum[j] 형식으로 구해지는데, 이것이 0이 되면 나누어 떨어진다는 뜻이다. 즉 두 개를 잡아서 0이 되는 걸 찾는다. 즉 같은 psum[x]의 개수를 알고 있다면 nC2 = (n*(n-1))/2로 깔끔히 풀린다.

문제는 구간합이 0인 경우다. 이 경우는 자기 자신 자체가 나누어 떨어지는 경우이므로 그냥 개수를 더해주면 된다.

```cpp
ans += counts[0]; // 구간합이 0인 구간의 개수를 더해준다.
for(int i=0;i<m;i++){
    ans += (counts[i] * (counts[i]-1))/2;
}
```